---
title: "compstatsR session 4:<br>R packaging"
author: "Ben Bolker"
date: "15 November 2016"
bibliography: compstatsR.bib
output:
   ioslides_presentation
---
<style>
.refs {
   font-size: 12px;
}
h2 { 
 color: #3399ff;		
}
h3 { 
 color: #3399ff;		
}
.title-slide {
   background-color: #55bbff;
}
</style>
<!-- Limit image width and height -->
<!-- 
img {     
  max-height: 560px;     
  max-width: 800px; 
}
-->
<style type="text/css">
img {     
  max-height: 500px;     
  max-width: 720px; 
}
</style>
<!-- n.b. comment must go outside style tags -->
<!-- https://css-tricks.com/snippets/css/simple-and-nice-blockquote-styling/ -->
<!-- quotes were "\201C""\201D""\2018""\2019"; -->
<style>
blockquote {
  background: #f9f9f9;
  border-left: 10px solid #ccc;
  margin: 1.5em 10px;
  padding: 0.5em 10px;
  quotes: "\201C""\201C""\201C""\201C";
}
blockquote:before {
  color: #ccc;
  content: open-quote;
  font-size: 4em;
  line-height: 0.1em;
  margin-right: 0.25em;
  vertical-align: -0.4em;
}
blockquote p {
  display: inline;
}
</style>
<style>
div#before-column p.forceBreak {
	break-before: column;
}
div#after-column p.forceBreak {
	break-after: column;
}
</style>

```{r setup, message=FALSE, echo=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(knitr)
insert_fun <- function(name) {
    read_chunk(lines = capture.output(dump(name, '')),
               labels = paste(name, 'source', sep = '-'))
}
```

# R packages

## Basics

- Hadley Wickham wrote a [whole book on this](http://r-pkgs.had.co.nz/)
- RStudio vs. R console approach
- `devtools::setup()` and `devtools::create()`
- package structure
- metadata: `DESCRIPTION` file

## Package structure

- * `DESCRIPTION` file
- ** `NAMESPACE` file (auto-generated by `roxygen`)
- * `R`: R code
- ** `man`: manual pages 
- `src`: C++ (etc.) code

Plus `vignette`, `demo`, `data`, `inst` ...

## References {.refs}

